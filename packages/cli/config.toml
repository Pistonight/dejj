[paths]
build-dir = "../../../botw-decomp/build"
elf = "../../../botw-decomp/build/uking"
compdb = "../../../botw-decomp/build/compile_commands.json"
system-header-paths = [
    "../../../botw-decomp/toolchain/clang-4.0.1/include/c++/v1"
]
extract-output = "dejj"

[paths.functions-csv]
path = "../../../botw-decomp/data/uking_functions.csv"
base-address = 0x7100000000
address-column = 0
symbol-column = 3
skip-rows = 1

[paths.data-csv]
path = "../../../botw-decomp/data/data_symbols.csv"
base-address = 0x7100000000
address-column = 0 
symbol-column = 1

[extract]
build-command = ["ninja"]
build-command-inherit-io = false
pointer-width = 64
ptmd-repr = ["u64", 1]
ptmf-repr = ["u64", 2]
char-repr = "u8"
wchar-repr = "u32"
vfptr-field-regex = "^_vptr\\$"
debug.lstage = false
debug.mstage = true
debug.hstage = true

[extract.type-parser]
abandon-typedefs = [
    # these may have unparsable consteval expressions in the templates
    "^std::__1::aligned_storage_t",
    "^std::__1::conditional_t",
    "^std::__1::add_pointer_t",
    "^std::__1::remove_reference_t",
    "^std::__1::__optional_sfinae_assign_base_t",
    "^std::__1::__optional_sfinae_ctor_base_t",

    # nn::gfx::InfoType typedefs
    "^InfoType$",

    # uking::Factory for both Ai factory and Action factory
    "^uking::Factory$",
]

[extract.name-resolution]
rules = []
test = []

# [extract.type-optimizer.pick-union-member]
# "uking::ui::PouchItem::Data" = "cook"
# "fpos_t" = "__opaque"
#
#
# [extract.name-resolution.override]
# # de-templatize
# "^sead::OffsetList<.*>$" = "sead::OffsetList"
# "^sead::DelegateEvent<.*>$" = "sead::DelegateEvent"

# [extract.type-optimizer.opaque-if]
# name-matches = [
#     "^std::__va_list$", 
# ]
# struct-member-name-contains = [
#     "__clang"
# ]

